# Конфигурация Mosquitto MQTT брокера

# Логирование
log_dest file /mosquitto/log/mosquitto.log
log_type all
log_timestamp true

# Слушаем на всех интерфейсах
listener 1883
allow_anonymous true

# Персистентность
persistence true
persistence_location /mosquitto/data/

# WebSocket (опционально)
# listener 9001
# protocol websockets

# Максимальное количество соединений
max_connections -1

# Максимальный размер сообщения (10MB)
# Используем max_packet_size вместо message_size_limit (рекомендуется в Mosquitto 2.0)
max_packet_size 10485760

# Автоматическое сохранение
autosave_interval 60

# Сохранение при отключении
autosave_on_changes false

